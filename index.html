<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sorteo Mamavia - Día de la Madre</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }

    html, body {
      height: 100%;
    }

    body {
      background: url('FONDOWEB1.png') no-repeat center center fixed;
      background-size: cover;
      position: relative;
    }

    .form-container {
      position: fixed;
      top: 60%;
      right: 25%;
      transform: translate(50%, -50%);
      background: rgba(255, 255, 255, 0.726);
      border-radius: 20px;
      padding: 10px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0);
      z-index: 10;
    }

    .logo-inside-form {
      display: flex;
      justify-content: center;
      margin-bottom: 5px;
    }

    .logo-inside-form img {
      max-width: 385px;
      height: auto;
    }

    .form-container h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #eb416c;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      background-color: #fff;
    }

    .submit-btn {
      width: 100%;
      background-color: #f76c8e;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .submit-btn:hover {
      background-color: #b00059;
    }

    .terms {
      font-size: 12px;
      text-align: center;
      margin-top: 15px;
      color: #333;
    }

    .terms a {
      color: #272727;
      text-decoration: none;
      font-weight: bold;
    }

    .terms a:hover {
      text-decoration: underline;
    }

    .social-icons {
      margin-top: 10px;
      text-align: center;
    }

    .social-icons a {
      margin: 0 10px;
      color: #2a2a2c;
      font-size: 20px;
      text-decoration: none;
    }

    .brands-header {
      width: 100%;
      background-color: #ffffff8f;
      text-align: center;
    }

    .brands-header img {
      width: 100%;
      max-width: 100%;
      height: auto;
      display: block;
    }

    @media (max-width: 768px) {
      body {
        background: url('FONDOWEB1.png') no-repeat top center fixed;
        background-size: cover;
      }

      .form-container {
        position: static;
        transform: none;
        margin: 50px auto;
        width: 90%;
      }

      .brands-header img {
        max-width: 100%;
        height: auto;
      }
    }

    .notification {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #eb416c;
      color: white;
      padding: 16px 24px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      font-weight: bold;
      z-index: 100;
      display: none;
      animation: fadeInOut 4s ease forwards;
      text-align: center;
    }

    @keyframes fadeInOut {
      0% {opacity: 0;}
      10% {opacity: 1;}
      90% {opacity: 1;}
      100% {opacity: 0;}
    }
  </style>
</head>
<body>
  <div class="brands-header">
    <img src="ENCABEZADO3.png" alt="Marcas colaboradoras">
  </div>

  <div class="form-container">
    <div class="logo-inside-form">
      <img src="FONDOLOGOVIA3.png" alt="Logo Mamavia dentro del formulario">
    </div>
    <h2>REGÍSTRATE EN EL SORTEO AQUÍ</h2>
    <form id="sorteo-form">
      <div class="form-group">
        <input type="text" id="nombres" name="nombres" placeholder="Ingresa tus nombres" required>
      </div>
      <div class="form-group">
        <input type="text" id="dni" name="dni" placeholder="Ingresa tu DNI o pasaporte" required>
      </div>
      <div class="form-group">
        <input type="tel" id="telefono" name="telefono" placeholder="Ingresa tu número" required>
      </div>
      <div class="form-group">
        <input type="text" id="sede" name="sede" placeholder="Ingresa tu sede de compra" required>
      </div>
      <div class="form-group">
        <input type="text" id="boleto" name="boleto" placeholder="Ingresa tu número de boleto" required>
      </div>
      <button class="submit-btn" type="submit">PARTICIPAR</button>
    </form>
    <div class="terms">
      Sujeto a <a href="TU_LINK_TERMINOS" target="_blank">términos y condiciones</a>
    </div>
    <div class="social-icons">
      Síguenos en:
      <a href="https://www.facebook.com/transportesviape" target="_blank"><i class="fab fa-facebook"></i></a>
      <a href="https://www.instagram.com/transportesviape" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://www.tiktok.com/@transportesviape" target="_blank"><i class="fab fa-tiktok"></i></a>
    </div>
    <div id="notification" class="notification"></div>
  </div>

  <audio id="audioBienvenida">
    <source src="https://raw.githubusercontent.com/RolandyCorrea/FelizD-aMamaV-a/main/AUDIOVIAMAMA.mp3" type="audio/mpeg">
  </audio>

<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbwl4om4TN5VmHrPjx5nq1FJ_aJEtSBb73xYPw-g38y5SZO2PaKljB3T9ywL3cAxIBfWcg/exec";
  const form = document.getElementById('sorteo-form');
  const notification = document.getElementById('notification');

  form.addEventListener('submit', e => {
    e.preventDefault();

    const formData = new FormData(form);
    const fetchPromise = fetch(scriptURL, { method: 'POST', body: formData });
    const timeoutPromise = new Promise(resolve => setTimeout(() => resolve("timeout"), 1000));
    
    Promise.race([fetchPromise, timeoutPromise])
      .then(result => {
        form.reset();
        showNotification("✅ Te registraste exitosamente. ¡Gracias por elegirnos!");
      })
      .catch(error => {
        showNotification("❌ Hubo un error al registrar tus datos. Inténtalo de nuevo.");
        console.error("Error:", error);
      });
  });

  function showNotification(message) {
    notification.textContent = message;
    notification.style.display = "block";
    setTimeout(() => {
      notification.style.display = "none";
    }, 4000);
  }

  // Cargar y reproducir el audio solo al hacer clic en algún campo del formulario
  let audioLoaded = false;
  const formInputs = document.querySelectorAll('#sorteo-form input');

  formInputs.forEach(input => {
    input.addEventListener('click', () => {
      if (!audioLoaded) {
        const audio = new Audio("https://rolandycorrea.github.io/FelizD-aMamaV-a/AUDIOVIAMAMA.mp3");
        audio.play().catch(err => {
          console.log("El navegador bloqueó el audio:", err);
        });
        audioLoaded = true;
      }
    });
  });
</script>
</body>
</html>

